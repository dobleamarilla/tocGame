<!DOCTYPE HTML>
<!-- <html manifest="cache.manifest"> -->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Test TPV HTML5</title>
    <link href="estilos/estilos.css" rel="stylesheet" type="text/css">
    <link href="estilos/buttons.css" rel="stylesheet" type="text/css"/>
</head>
<body>
	<div class="contenedor">
    	<header>
        	<a href="http://hiterp.com/" target="_blank">
        	<div class="contLogo floatLeft">
            		<img class="logohit" src="imagenes/logo_hit.gif" alt="Insertar logotipo aquí"/>
            </div>
            </a>
  		</header>
        
        <div class="contPrincipal">
        	<aside class="floatLeft">
            	<nav>
                    <ul class="menu">
                        <li id="contUno" class="active">Login</li>
                        <li id="contLogOut" onClick="InicializarLogin();">Logout</li>
                        <li id="contDos">Productos</li>
                        <li id="contTres">Sincronización</li>
                        <li id="contCuatro">Acerca de...</li>
                    </ul>
        		</nav>
                
                <p>Estado: </p>
                <p id="infoConexion">Offline</p>
                
                <nav>
                    <ul class="infoUsuarios">
                        <li id="usuario"></li>
                    </ul>
        		</nav>
        	</aside>
        	<article class="floatLeft">
            	<div class="contenido contUno">
                    <div class="subContenido">
                    	<section>
                        	<h2>Login</h2>
							<table border="2">
                            	<tr>
                                	<th>Dependienta</th>
                                    <td>
                                    	<SELECT id="selDependienta" SIZE=1 onChange="EstablecerFoco();">
                                        	<!--
                                            <OPTION VALUE="9999">TODAS</OPTION>
                                        	<OPTION VALUE="0000">Ninguna</OPTION>
                                            -->
                                        </SELECT> 
                                    </td>
                                </tr>
                                    <tr><th>Password</th>
                                    <td><input id="tbPassword" type="password" onFocus="Foco(this);" onkeypress="intro(event)"/></td>
                                </tr>
                            </table>
                            <div class="teclado">
                                <div class="filaTeclado">
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">q</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">w</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">e</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">r</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">t</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">y</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">u</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">i</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">o</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">p</div>
                                    <div class="button blue tecla" onMouseDown="BorrarCaracter();">◄</div>
                                </div>
                                
                                <div class="filaTeclado">
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">a</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">s</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">d</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">f</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">g</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">h</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">j</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">k</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">l</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">ñ</div>
                                    <div class="button blue tecla" onMouseDown="IntroCaracter();">INT</div>
                                </div>
                                
                                <div class="filaTeclado">
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">z</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">x</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">c</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">v</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">b</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">n</div>
                                    <div class="button blue tecla teclaChar" onMouseDown="EscribirCaracter(this);">m</div>
                                    <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">,</div>
                                    <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">.</div>
                                    <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">-</div>
                                    <div class="button blue tecla" onMouseDown="Mayus();">▲</div>
                                </div>
                                <div class="filaTeclado">
                                    <div class="button blue tecla espacio" onMouseDown="EscribirCaracter(this);">&nbsp;</div>
                                </div>
                             </div>
                             
                             <div class="teclado">
                                <div class="filaTeclado">
                                    <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">7</div>
                                    <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">8</div>
                                    <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">9</div>
                                    <div class="button blue tecla" onMouseDown="BorrarCaracter(this);">◄</div>
                                    <div class="button blue tecla">C</div>
                                </div>
                                
                                <div class="filaTeclado">
                                    <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">4</div>
                                    <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">5</div>
                                    <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">6</div>
                                     <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">/</div>
                                    <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">x</div>
                                </div>
                                
                                <div class="filaTeclado">
                                    <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">1</div>
                                    <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">2</div>
                                    <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">3</div>
                                     <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">-</div>
                                      <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">+</div>
                                   
                                </div>
                                
                                <div class="filaTeclado">
                                    <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">0</div>
                                    <div class="button blue tecla">00</div>
                                    <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">.</div>
                                    <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">%</div>
                                    <div class="button blue tecla" onMouseDown="EscribirCaracter(this);">=</div>
                                </div>
                             </div>
                        </section>
                    </div>
                </div>
                <div class="contenido contDos">
                	<div class="contSubmenu">
                        <nav>
                            <ul class="submenu subDos">
                                <li id="aguas" class="active">Cafés</li>
                                <li id="refrescos">Bocadillos</li>
                                <li id="vinos">Refrescos</li>
                            </ul>
                        </nav>
                    </div>
                    <div class="subContenido">
                    	<section class="subContDos aguas">
                            <!-- <button onClick="CargarAguas();">CargarDatos</button> -->
                            <div class="contTabla">
                            	<table class="productos" id="tbAguas"></table>
                            </div>
                        </section>
                        <section class="subContDos refrescos">
                        	<div class="contTabla">
                            	<table class="productos" id="tbRefrescos"></table>
                            </div>
                        </section>
                        <section class="subContDos vinos">
                            <div class="contTabla">
                            	<table class="productos" id="tbVinos"></table>
                            </div>
                        </section>
                        <section>
                        <input id="tbInfoFactura" class="iProductos floatLeft" type="text" onFocus="Foco(this);" READONLY/>
                        <input id="tbInsertar" class="insertar floatRight" type="text" onFocus="Foco(this);" READONLY/>
                        	<div class="factura floatLeft">
                            	<pre id="tbFactura">Factura:</pre>
                            </div>
                        	<div class="teclado floatLeft" style="margin-left: 15px;">
                                <div class="filaTeclado">
                                    <div class="button blue tecla" onMouseDown="EscribirNumero(this);">7</div>
                                    <div class="button blue tecla" onMouseDown="EscribirNumero(this);">8</div>
                                    <div class="button blue tecla" onMouseDown="EscribirNumero(this);">9</div>
                                    <div class="button blue tecla" onMouseDown="EscribirNumero(this);">◄</div>
                                    <div class="button blue tecla" onMouseDown="EscribirNumero(this);">C</div>
                                </div>
                                
                                <div class="filaTeclado">
                                    <div class="button blue tecla" onMouseDown="EscribirNumero(this);">4</div>
                                    <div class="button blue tecla" onMouseDown="EscribirNumero(this);">5</div>
                                    <div class="button blue tecla" onMouseDown="EscribirNumero(this);">6</div>
                                     <div class="button blue tecla" onMouseDown="EscribirNumero(this);">/</div>
                                    <div class="button blue tecla" onMouseDown="EscribirNumero(this);">x</div>
                                </div>
                                
                                <div class="filaTeclado">
                                    <div class="button blue tecla" onMouseDown="EscribirNumero(this);">1</div>
                                    <div class="button blue tecla" onMouseDown="EscribirNumero(this);">2</div>
                                    <div class="button blue tecla" onMouseDown="EscribirNumero(this);">3</div>
                                     <div class="button blue tecla" onMouseDown="EscribirNumero(this);">-</div>
                                      <div class="button blue tecla" onMouseDown="EscribirNumero(this);">+</div>
                                   
                                </div>
                                
                                <div class="filaTeclado">
                                    <div class="button blue tecla" onMouseDown="EscribirNumero(this);">0</div>
                                    <div class="button blue tecla" onMouseDown="EscribirNumero(this);">00</div>
                                    <div class="button blue tecla" onMouseDown="EscribirNumero(this);">.</div>
                                    <div class="button blue tecla" onMouseDown="EscribirNumero(this);">%</div>
                                    <div class="button blue tecla" onMouseDown="EscribirNumero(this);">=</div>
                                </div>
                                <div class="filaTeclado">
                                    <div class="button blue teclaG" onMouseDown="Si(this);">SI</div>
                                    <div class="button blue teclaG" onMouseDown="No(this);">NO</div>
                                    <div class="button blue teclaG" onMouseDown="CalcularTotal(this);">TOTAL</div>
                                </div>
                             </div>
                        </section>
                    </div>
                </div>
                <div class="contenido contTres">
                	<div class="contSubmenu">
                        <nav>
                            <ul class="submenu subTres">
                                <li id="testsinc" class="active">Sincronización</li>
                                <li id="logsinc">Log</li>
                            </ul>
                        </nav>
                    </div>
                    <div class="subContenido">
                        <section class="subContTres testsinc">
                        	<h2>Sincronización de la base de datos</h2>
                            
                            <table>
                            	<tr><th>Local:</th><td>Web SQL Database (SQLite)</td></tr>
                                <tr><th>Remota:</th><td>SQL Server 2005</td></tr>
                            </table>
                            
                            <p>Estado del Worker:</p>
                            <pre id="resultWorker"></pre>
                        </section>
                        <section class="subContTres logsinc">
                        	<h2>Log Sincronización</h2>
                            
                            <table>
                            	<tr><th>Local:</th><td>Web SQL Database (SQLite)</td></tr>
                                <tr><th>Remota:</th><td>SQL Server 2005</td></tr>
                            </table>
                            
                            <p><button id="btSinc" onClick="IniciarSincronizacion()">Iniciar sincronización (normal)</button></p>
                            <p><button id="btSincBucle" onClick="IniciarBucleSincronizacion()">Iniciar sincronización (bucle)</button></p>
                            <p><button id="btForzarSinc" onClick="ForzarSinc()">Forzar sincronización</button></p>
                            <p><button id="btBorrarLog" onClick="BorrarLog()">Borrar Log</button></p>
                            
                            <p>Log Worker:</p>
                            <pre id="logWorker"></pre>
                        </section>
                    </div>
                </div>
                <div class="contenido contCuatro">
                    <div class="subContenido">
                        <section class="subContCuatro acercaDe">
                        	<h2>Acerca de...</h2>
                            <p>HIT SYSTEMS S.L.</p>
                            <p>PROYECTO TPV HTML5</p>
                            <ul class="miLista">
                            	<li>Abel Martín</li>
                                <li>Daniel Durán</li>
                            </ul>
                        </section>
                    </div>
                </div>
        	</article>
        </div>
        
        <footer>
        	© 2010 HIT SYSTEMS S.L. <img class="centro" />
        </footer>
    </div>
	<script type="text/javascript" src="javascript/jquery.js"></script>
	<script type="text/javascript" src="javascript/tabs.js"></script>
    <script type="text/javascript" src="javascript/factura.js"></script>
    <script type="text/javascript" src="Core/Cliente/AccesoDatos.js"></script>
	<script type="text/javascript">
		LocalStorage.SetIdUsuario("0");
		
		CargarDepedientas();
		
		// Cargar los datos de las tablas:
		CargarAguas();
		CargarRefrescos();
		CargarVinos();
		
        var logWorker = document.getElementById('logWorker');
		var resultWorker = document.getElementById('resultWorker');

        
        LocalStorage.SetIdUsuario("0");
        
        var _WorkerHandler = new WorkerHandler("Core/Cliente/Worker.js", EscribirLogWorker, InfoError, SincronizacionOk, NuevosDatos, CambioConexion);
		
        //_WorkerHandler.IniciarWorker();
        
        var _Bucle = false;
        var _Forzar = false;
		
        function EscribirResultWorker(vMensaje)
        {
			resultWorker.textContent += '\n# ' + vMensaje;
        }
		
		function EscribirLogWorker(vMensaje)
        {
			logWorker.textContent += '\n# ' + vMensaje;
        }
		
		function BorrarResult()
		{
			resultWorker.textContent = "";
		}
		
		function BorrarLog()
		{
			logWorker.textContent = "";
		}
        
        function InfoError(vError)
        {
            alert(vError);
        }
        
        function SincronizacionOk(vCorrecto)
        {
            if (vCorrecto)
            {
                EscribirLogWorker("\n# Sincronización ok a partir de: " + LocalStorage.GetFechaUltimaSinc());
                EscribirLogWorker("\n#############################################################");
				
				/*
				if (_Bucle)
					BorrarLog();
					*/
            }
            else
                alert("Error en la sincronización.");
				
			_Forzar = false;
        }
		
		function NuevosDatos()
		{
			EscribirLogWorker("\n#############################################################");
			EscribirLogWorker("\n# NUEVOS DATOS RECIBIDOS...");
			EscribirLogWorker("\n#############################################################");
			
			CargarDepedientas();
			CargarAguas();
			CargarRefrescos();
			CargarVinos();
		}
		
		function CambioConexion(vOnline)
		{
			var _Info = document.getElementById("infoConexion");
			
			if (!vOnline)
			{
				_Info.textContent = "OFFLINE";
				BorrarResult();
				EscribirResultWorker("Sincronización detenida.");
			}
			else
			{
				_Info.textContent = "ONLINE";
				BorrarResult();
				EscribirResultWorker("Sincronizando...");
			}
		}
        
        var _Sincronizando = false;
        
        function IniciarSincronizacion()
        {
            _Bucle = false;
			BorrarLog();
            _WorkerHandler.IniciarSincronizacion();
        }
        
        function IniciarBucleSincronizacion()
        {
            _Bucle = true;
			
            //BorrarLog();
            var _BtSinc = document.getElementById('btSincBucle');
            
            if (!_Sincronizando)
            {
                _WorkerHandler.IniciarBucleSincronizacion();
				_BtSinc.textContent = "Detener sincronización (bucle)";
                
            }
            else
            {
				//BorrarLog();
                _WorkerHandler.DetenerBucleSincronizacion();
				_BtSinc.textContent = "Iniciar sincronización (bucle)";
            }
			
			_Sincronizando = !_Sincronizando;
        }
		
		function ForzarSinc()
		{
			LocalStorage.SetIdVersionUsuario(null);
			LocalStorage.SetFechaUltimaSinc(null);
			
			_Bucle = false;
			_Forzar = true;
			
			BorrarLog();
            _WorkerHandler.IniciarSincronizacion();
		}
		
		var _Dependientas = null;
		
		function CargarDepedientas()
		{
			var _SelDep = document.getElementById("selDependienta");
			var ad = new AccesoDatosAsinc(Db.Nombre, Db.Version, Db.Descripcion, Db.Tamano);
			
			ad.AbrirConexion();
			
			// NOTA: como prueba, se utilizará el campo MEMO como password.
			var _Sql = "SELECT NOM, MEMO FROM Dependentes ORDER BY NOM";
			
			ad.EjecutarSql(_Sql, 
				function(vTx, vResult)
				{
					_Dependientas = vResult;
					
					for (var i = 0; i < _Dependientas.rows.length; i++)
					{
						_Registro = _Dependientas.rows.item(i);
						_Nombre = _Registro["NOM"];
						
						_SelDep.options[i] = new Option(_Nombre, _Nombre, "0");
						
					}
					
					if (_Fila.length > 0)
						InsertarRegistroTabla("tbAguas", _Fila);
				});
			
			ad.CerrarConexion();
		}
		
		
		function CargarAguas()
		{
			BorrarRegistrosTabla("tbAguas");
			
			var ad = new AccesoDatosAsinc(Db.Nombre, Db.Version, Db.Descripcion, Db.Tamano);
			
			ad.AbrirConexion();
			
			if (ad.Conectado())
			{
				var _Sql = "SELECT * FROM Articles WHERE Familia = '80.1.1 Cafe'";
				
				ad.EjecutarSql(_Sql,
					function(vTx, vResult)
					{
						var _Fila = new Array();
						
						for (var i = 0; i < vResult.rows.length; i++)
						{
							if (i != 0 && i % 3 == 0)
							{
								InsertarRegistroTabla("tbAguas", _Fila);
								_Fila = new Array();
							}
	
							_Registro = vResult.rows.item(i);
							_Fila.push(_Registro["NOM"]);
						}
						
						if (_Fila.length > 0)
							InsertarRegistroTabla("tbAguas", _Fila);
					});
			}
			else
			{
				alert("Error en la conexión con la base de datos.");
			}
			
			ad.CerrarConexion();
		}
		
		function CargarRefrescos()
		{
			BorrarRegistrosTabla("tbRefrescos");
			
			var ad = new AccesoDatosAsinc(Db.Nombre, Db.Version, Db.Descripcion, Db.Tamano);
			
			ad.AbrirConexion();
			
			if (ad.Conectado())
			{
				var _Sql = "SELECT * FROM Articles WHERE Familia = '80.6.1 Bocadillos'";
				
				ad.EjecutarSql(_Sql,
					function(vTx, vResult)
					{
						var _Fila = new Array();
						
						for (var i = 0; i < vResult.rows.length; i++)
						{
							if (i != 0 && i % 3 == 0)
							{
								InsertarRegistroTabla("tbRefrescos", _Fila);
								_Fila = new Array();
							}
	
							_Registro = vResult.rows.item(i);
							_Fila.push(_Registro["NOM"]);
						}
						
						if (_Fila.length > 0)
							InsertarRegistroTabla("tbRefrescos", _Fila);
					});
			}
			else
			{
				alert("Error en la conexión con la base de datos.");
			}
			
			ad.CerrarConexion();
		}
		
		function CargarVinos()
		{
			BorrarRegistrosTabla("tbVinos");
			
			var ad = new AccesoDatosAsinc(Db.Nombre, Db.Version, Db.Descripcion, Db.Tamano);
			
			ad.AbrirConexion();
			
			if (ad.Conectado())
			{
				var _Sql = "SELECT * FROM Articles WHERE Familia = '95.4.4 Refresco'";
				
				ad.EjecutarSql(_Sql,
					function(vTx, vResult)
					{
						var _Fila = new Array();
						
						for (var i = 0; i < vResult.rows.length; i++)
						{
							if (i != 0 && i % 3 == 0)
							{
								InsertarRegistroTabla("tbVinos", _Fila);
								_Fila = new Array();
							}
	
							_Registro = vResult.rows.item(i);
							_Fila.push(_Registro["NOM"]);
						}
						
						if (_Fila.length > 0)
							InsertarRegistroTabla("tbVinos", _Fila);
					});
			}
			else
			{
				alert("Error en la conexión con la base de datos.");
			}
			
			ad.CerrarConexion();
		}
	
		function InsertarRegistroTabla(vIdTabla, vRegistro)
		{
			var _Tabla = document.getElementById(vIdTabla);
			
			var _Fila = _Tabla.insertRow(_Tabla.rows.length);
			
			for (var i = 0; i < vRegistro.length; i++)
			{
				var _Celda = _Fila.insertCell(i);
				var _NodoTexto = document.createTextNode(vRegistro[i]);
				
				// PRUEBA DE CLIC:
				_Celda.onclick = AnadirProducto;
				
			  	_Celda.appendChild(_NodoTexto);
			}
		}
		
		function LPad(vTexto, vLongitud, vCaracter)
		{
			var _Resultado = vTexto.toString();
			
			for(var i = _Resultado.length + 1 ; i<= vLongitud; i++)
			{
				_Resultado = vCaracter + _Resultado;
			}
			return _Resultado;
		}
		
		function RPad(vTexto, vLongitud, vCaracter)
		{
			var _Resultado = vTexto.toString();
			
			for(var i = _Resultado.length + 1 ; i<= vLongitud; i++)
			{
				_Resultado = _Resultado + vCaracter;
			}
			return _Resultado;
		}
		
		function EliminarRegistroTabla(vIdTabla, vIndice)
		{
		  var _Tabla = document.getElementById(vIdTabla);
		  
		  if (_Tabla.rows.length > vIndice)
		  	_Tabla.deleteRow(vIndice);
		}
		
		function BorrarRegistrosTabla(vIdTabla)
		{
			var _Tabla = document.getElementById(vIdTabla);
		  
			while (_Tabla.rows.length > 0)
				_Tabla.deleteRow(_Tabla.rows.length - 1);
		}
		
		IniciarBucleSincronizacion();
    </script>
    
    <script type="text/javascript">
		InicializarLogin();
		
		var _Mayus = false;
		var _TextBox = false;
		
		EstablecerFoco();
		
		function EstablecerFoco()
		{
			document.getElementById("tbPassword").focus();
		}
		
		function Foco(vTextBox)
		{
			_TextBox = vTextBox;
		}
		
		function Mayus()
		{
			var _Botones = document.getElementsByClassName("teclaChar");
			for (var i = 0; i < _Botones.length; i++)
			{
				var _Boton = _Botones[i];
				
				_Boton.textContent = (_Mayus)? _Boton.textContent.toLowerCase() : _Boton.textContent.toUpperCase();
			}
			
			_Mayus = !_Mayus;
		}
	
		function EscribirCaracter(vElemento)
		{
			var _Contenido = vElemento.textContent;
			
			_TextBox.value += _Contenido;
		}
		
		function BorrarCaracter()
		{
			_TextBox.value = _TextBox.value.slice(0, -1);
		}
		
		function intro(e)
		{
			tecla=(document.all) ? e.keyCode : e.which;
			if(tecla==13)
			{
				window.event.keyCode=0;
				IntroCaracter();
			}
		}
		
		function IntroCaracter()
		{
			// Cargar usuario y password:
			var _SelDep = document.getElementById("selDependienta");
			var _Indice = _SelDep.selectedIndex;
			
			var _NomUsuario = _SelDep.options[_Indice].value;
			var _Password = document.getElementById("tbPassword").value;
			
			// Comprobar usuario y password:^
			var _Correcto = false;
						
			for (var i = 0; i < _Dependientas.rows.length; i++)
			{
				_Registro = _Dependientas.rows.item(i);
				if (_NomUsuario == _Registro["NOM"] && _Password == _Registro["MEMO"])
				{
					_Correcto = true;
					break;
				}
			}
			
			if (_Correcto)
			{
				// Ocultar Login y Mostrar Logout:
				$(".menu #contUno").css("display", "none");
				$(".menu #contLogOut").css("display", "block");
				
				// Entrar en productos:
				$(".menu #contDos").css("display", "block");
				//desactivamos seccion y activamos elemento de menu
				$(".menu li.active").removeClass("active");
				$(".menu #contDos").addClass("active");
				//ocultamos divisiones, mostramos la seleccionada
				$(".contenido").css("display", "none");
				$(".contDos").fadeIn();
				
				// Agregar el nombre de usuario en la lista de usuarios logueados:
				var _InfoUsuario = document.getElementById("usuario");
				_InfoUsuario.textContent = _NomUsuario;
				
				$(".infoUsuarios #usuario").css("display", "block");
			}
			else
				alert("Error: password incorrecto.");
			
			document.getElementById("tbPassword").value = null;
		}
		
		function InicializarLogin()
		{
			// Mostrar Login y ocultar Logout:
			$(".menu #contUno").css("display", "block");
			$(".menu #contLogOut").css("display", "none");
			
			// Entrar en login:
			$(".menu #contDos").css("display", "none");
			//desactivamos seccion y activamos elemento de menu
			$(".menu li.active").removeClass("active");
			$(".menu #contUno").addClass("active");
			//ocultamos divisiones, mostramos la seleccionada
			$(".contenido").css("display", "none");
			$(".contUno").fadeIn();
			
			$(".infoUsuarios #usuario").css("display", "none");
			
		}
		
		function IntroNumero()
		{
			$(".menu #contDos").css("display", "block");
		}
	</script>
</body>
</html>
