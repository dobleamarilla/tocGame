<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Documento sin t&iacute;tulo</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link type="text/css" href="css/ui-lightness/jquery-ui-1.8.11.custom.css" rel="stylesheet" />	
<script src="js/jquery-1.5.1.js"></script>
<style type="text/css">
.borderRadius {
	border-radius: 4px;
}
</style>
</head>

<body>

</body>
<script>

$(function() {

var nT = 6;
var nX = 8;
var nY = 8;
var c = 0;
var fBorderRadius = false;

function getText(t,i,b) {
	return t+"-"+i+"-"+b;
}

function getBC(t,i,b) {
	return "rgb("+(Math.floor(t*256/6)%256)+","+(Math.floor(i*256/6)%256)+","+(Math.floor(b*256/6)%256)+")";
}

function handleTabs() {
	divTabs.children().eq(tab).hide();
	tab = (tab+1)%nT;
	divTabs.children().eq(tab).show();
	setTO();
}

function handleNoTabs() {
	for (var i=0; i<nY; i++) {
		var r1 = divNoTabs.children().eq(i);
		for (var b=0; b<nX; b++) {
			r1.children().eq(b).text(getText(noTabs,i,b)).css({backgroundColor: getBC(noTabs,i,b)});
		}
	}	
	noTabs = (noTabs+1)%nT;
	setTO();
}

var tab = 0;
var noTabs = 0;

var divTabs = $("<div>").css({position: "absolute", left: "5%", top: "5%", width: "40%", height: "80%"}).appendTo("body");
for (var t=0; t<nT; t++) {
	var p = $("<div>").css({width: "100%", height: "100%"}).appendTo(divTabs).hide();
	for (var i=0; i<nY; i++) {
		var r1 = $("<div>").css({width: "100%", height: (100/nY)+"%"}).appendTo(p);
		for (var b=0; b<nX; b++) {
			$("<button>").css({width: (100/nX)+"%", height: "100%", boxSizing: "border-box", color: "black", verticalAlign: "middle"}).addClass("borderRadius")
			             .appendTo(r1).text(getText(t,i,b)).css({backgroundColor: getBC(t,i,b)});
		}
	}	
}

$("<button>").text("tabs").css({position: "absolute", left: "20%", top: "90%"}).appendTo("body").mousedown(handleTabs).mousedown();

var divNoTabs = $("<div>").css({position: "absolute", left: "55%", top: "5%", width: "40%", height: "80%"}).appendTo("body");
for (var i=0; i<nY; i++) {
	var r1 = $("<div>").css({width: "100%", height: (100/nY)+"%"}).appendTo(divNoTabs);
	for (var b=0; b<nX; b++) {
		$("<button>").css({width: (100/nX)+"%", height: "100%", boxSizing: "border-box", color: "black", verticalAlign: "middle"}).addClass("borderRadius")
					.appendTo(r1);
	}
}	

$("<button>").text("no tabs").css({position: "absolute", left: "80%", top: "90%"}).appendTo("body").mousedown(handleNoTabs).mousedown();

$("<button>").text("border radius").css({position: "absolute", left: "50%", top: "90%"}).appendTo("body").mousedown(function(e) {
	fBorderRadius = !fBorderRadius;
	$(e.target).text((fBorderRadius ? "no " : "")+"border radius");
	$("button")[fBorderRadius ? "addClass" : "removeClass"]("borderRadius");
	setTO();
}).mousedown();

var divTime = $("<div>").css({position: "absolute", left: "50%", top: "40%"}).appendTo("body");

var time0;
function setTO() {
	time0 = Date.now();
	setTimeout(function() { divTime.text(Date.now()-time0); },0);
}

});

</script>
</html>
