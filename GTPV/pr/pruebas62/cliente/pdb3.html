<html>
<body><button id = "b">ok</button></body>
<script>
d1 = openDatabase("d1","","",5000);
d2 = openDatabase("d2","","",5000);
d1.transaction(function(tx) {
	tx.executeSql("create table t1 (a int)");
	tx.executeSql("insert into t1 values(?)",[1]);
});
d2.transaction(function(tx) {
	tx.executeSql("create table t2 (a int)");
});

d2.transaction(function(tx2) {
	d1.transaction(function(tx1) {
		tx1.executeSql("select * from t1",[],function(t,r) { 
			tx2.executeSql("insert into t2 values(?)",[r.rows.item(0).a],function() { alert("s"); }, function(t,e) { alert(e); });
		}); 
	});
});
</script>
</html>